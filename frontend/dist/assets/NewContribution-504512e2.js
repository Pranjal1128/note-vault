import{r as a,j as e}from"./index-add16883.js";import{A as y}from"./AdminSidebar-4cc3fe71.js";import"./index.esm-2040b4d3.js";import"./iconBase-dfa3fba1.js";const D=()=>{const[o,n]=a.useState(null),[i,p]=a.useState(""),[c,l]=a.useState(""),[d,b]=a.useState(""),[u,h]=a.useState(""),[m,g]=a.useState(""),f=r=>{var t;const s=(t=r.target.files)==null?void 0:t[0];s&&(n(s),l(s.name))},x=r=>{r.preventDefault()},j=r=>{r.preventDefault();const s=r.dataTransfer.files[0];s&&(n(s),l(s.name))},N=async r=>{r.preventDefault();const s="YOUR_API_ENDPOINT";if(o&&i&&c&&d&&u&&m)try{const t=new FormData;t.append("file",o),t.append("bookOrCopy",i),t.append("fileName",c),t.append("branch",d),t.append("semester",u),t.append("subject",m),(await fetch(s,{method:"POST",body:t})).ok?(console.log("Contribution created successfully!"),n(null),p(""),l(""),b(""),h(""),g("")):console.error("Contribution creation failed!")}catch(t){console.error("Error while creating the contribution:",t)}else console.error("Please fill in all fields.")};return e.jsxs("div",{className:"admin-container",children:[e.jsx(y,{}),e.jsx("main",{className:"contribution-management",children:e.jsx("article",{children:e.jsxs("form",{onSubmit:N,className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 lg:mr-9 lg:my-4 mt-14 mx-4",children:[e.jsx("h2",{className:"text-3xl font-semibold mb-4 text-center",children:"Upload here"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"border-dashed border-2 border-gray-300 p-4 rounded cursor-pointer",onDragOver:x,onDrop:j,children:[e.jsx("label",{htmlFor:"file",className:"text-gray-600 cursor-pointer",children:"Drag and drop your file here or click to select a file."}),o&&e.jsx("p",{className:"mt-2",children:o.name})]}),e.jsx("input",{type:"file",id:"file",accept:".pdf, .doc, .docx, .txt, .jpeg, .png,",onChange:f,className:"hidden"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-semibold",children:"Book or Copy"}),e.jsx("input",{required:!0,type:"text",placeholder:"Book or Copy",value:i,onChange:r=>p(r.target.value),className:"w-full border border-gray-300 p-2 rounded focus:ring focus:ring-indigo-400"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-semibold",children:"File Name"}),e.jsx("input",{required:!0,type:"text",placeholder:"File Name",value:c,onChange:r=>l(r.target.value),className:"w-full border border-gray-300 p-2 rounded focus:ring focus:ring-indigo-400"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-semibold",children:"Branch"}),e.jsx("input",{required:!0,type:"text",placeholder:"Branch",value:d,onChange:r=>b(r.target.value),className:"w-full border border-gray-300 p-2 rounded focus:ring focus:ring-indigo-400"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-semibold",children:"Semester"}),e.jsx("input",{required:!0,type:"text",placeholder:"Semester",value:u,onChange:r=>h(r.target.value),className:"w-full border border-gray-300 p-2 rounded focus:ring focus:ring-indigo-400"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-semibold",children:"Subject"}),e.jsx("input",{required:!0,type:"text",placeholder:"Subject",value:m,onChange:r=>g(r.target.value),className:"w-full border border-gray-300 p-2 rounded focus:ring focus:ring-indigo-400"})]}),e.jsx("button",{type:"submit",className:"bg-[#056be0] text-white font-semibold px-4 py-2 rounded hover:bg-[#054ae0] transition duration-300",children:"Create"})]})})})]})};export{D as default};
